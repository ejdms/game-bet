(this["webpackJsonpbet-game-react"]=this["webpackJsonpbet-game-react"]||[]).push([[0],{17:function(e,t,a){e.exports=a(29)},27:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),u=a(6),i=a(2),o=a(1),m={play:!1,reset:!1,bet:20,currentPrize:0,difficulty:null,startScreenVisible:!0,textOnMainButton:"Choose difficulty",currentGame:{level:null,cells:[],activeCells:[],cellsWithBombs:[],canChangeDifficulty:!0,canChangeBet:!0}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STOP_GAME":return Object(o.a)({},e,{play:!1,currentGame:Object(o.a)({},e.currentGame)});case"START_GAME":return Object(o.a)({},e,{play:!0,currentGame:Object(o.a)({},e.currentGame)});case"ENABLE_RESET":return Object(o.a)({},e,{reset:!0,currentGame:Object(o.a)({},e.currentGame)});case"DISABLE_RESET":return Object(o.a)({},e,{reset:!1,currentGame:Object(o.a)({},e.currentGame)});case"CHANGE_BET":return Object(o.a)({},e,{bet:t.payload,currentGame:Object(o.a)({},e.currentGame)});case"INCREASE_BET":return Object(o.a)({},e,{bet:e.bet+1,currentGame:Object(o.a)({},e.currentGame)});case"DECREASE_BET":return Object(o.a)({},e,{bet:e.bet-1,currentGame:Object(o.a)({},e.currentGame)});case"CHANGE_CURRENT_PRIZE":return Object(o.a)({},e,{currentPrize:t.payload,currentGame:Object(o.a)({},e.currentGame)});case"ADD_TO_CURRENT_PRIZE":return Object(o.a)({},e,{currentPrize:e.currentPrize+t.payload,currentGame:Object(o.a)({},e.currentGame)});case"CHANGE_DIFFICULTY":return Object(o.a)({},e,{difficulty:t.payload,currentGame:Object(o.a)({},e.currentGame)});case"HIDE_START_SCREEN":return Object(o.a)({},e,{startScreenVisible:!1,currentGame:Object(o.a)({},e.currentGame)});case"SHOW_START_SCREEN":return Object(o.a)({},e,{startScreenVisible:!0,currentGame:Object(o.a)({},e.currentGame)});case"CHANGE_TEXT_ON_MAIN_BUTTON":return Object(o.a)({},e,{textOnMainButton:t.payload,currentGame:Object(o.a)({},e.currentGame)});case"INCREASE_LEVEL":return Object(o.a)({},e,{currentGame:Object(o.a)({},e.currentGame,{level:e.currentGame.level+1})});case"RESET_LEVEL":return Object(o.a)({},e,{currentGame:Object(o.a)({},e.currentGame,{level:1})});case"CHANGE_CELLS":return Object(o.a)({},e,{currentGame:Object(o.a)({},e.currentGame,{cells:t.payload})});case"CHANGE_ACTIVE_CELLS":return Object(o.a)({},e,{currentGame:Object(o.a)({},e.currentGame,{activeCells:t.payload})});case"CHANGE_CELLS_WITH_BOMBS":return Object(o.a)({},e,{currentGame:Object(o.a)({},e.currentGame,{cellsWithBombs:t.payload})});case"ENABLE_DIFFICULTY_CHANGE":return Object(o.a)({},e,{currentGame:Object(o.a)({},e.currentGame,{canChangeDifficulty:!0})});case"DISABLE_DIFFICULTY_CHANGE":return Object(o.a)({},e,{currentGame:Object(o.a)({},e.currentGame,{canChangeDifficulty:!1})});case"ENABLE_BET_CHANGE":return Object(o.a)({},e,{currentGame:Object(o.a)({},e.currentGame,{canChangeBet:!0})});case"DISABLE_BET_CHANGE":return Object(o.a)({},e,{currentGame:Object(o.a)({},e.currentGame,{canChangeBet:!1})});default:return e}},s=a(3),f=[],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RECORD":var a=t.payload,n=a.bet,r=a.profit,c=a.steps,l={bet:n,profit:r,steps:c};return[].concat(Object(s.a)(e),[l]);case"RESET_RECORDS":return[];default:return e}},y={money:1e3,gamesPlayed:0},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MONEY":return Object(o.a)({},e,{money:e.money+t.payload});case"REMOVE_MONEY":return Object(o.a)({},e,{money:e.money-t.payload});case"INCREMENT_GAMES_PLAYED":return Object(o.a)({},e,{gamesPlayed:e.gamesPlayed+1});case"RESET_GAMES_PLAYED":return Object(o.a)({},e,{gamesPlayed:0});default:return e}},p=Object(i.c)({game:E,history:d,info:b}),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,G=Object(i.e)(p,{},v(i.a.apply(void 0,[]))),h=(a(27),function(e){for(var t,a=e.children,n=[],c=0;c<100;c++){var l=(t=c,r.a.createElement("div",{className:"scan-line",key:t}));n.push(l)}return r.a.createElement("div",{className:"retro-layout"},r.a.createElement("div",{className:"retro-layout-inside"},r.a.createElement("div",{className:"scan-lines"},n),a))}),_=a(16),C=function(e){return{type:"ADD_RECORD",payload:e}},O=function(e){return{type:"CHANGE_CURRENT_PRIZE",payload:e}},N=function(e){return{type:"CHANGE_CELLS",payload:e}},A=function(e){return{type:"ADD_MONEY",payload:e}},g=function(e){return r.a.createElement("div",{className:"game-field"},e.children)},j=function(e){return r.a.createElement("div",{className:"game-header"},r.a.createElement("span",null,"Bet game"))},T=function(e){return r.a.createElement("div",{className:"game-columns"},e.children)},B=function(e){var t=e.color,a=e.children,n=e.columnsNumber,c=e.startScreenVisible;return r.a.createElement("div",{className:"column".concat(n?" columns-inside columns-".concat(n):"").concat(c?" start-screen-visible":""),style:{borderColor:t}},a)},S=function(e){var t=e.game,a=e.handleGameButtonClick,n=e.handleChangeDifficulty,c=e.handleChangeBet;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"game-button",onClick:a},t.textOnMainButton),r.a.createElement("ul",{className:"bet"},r.a.createElement("li",null,r.a.createElement("div",{onClick:function(){return c("-")}},"-")),r.a.createElement("li",null,r.a.createElement("input",{className:"bet-input",type:"text",value:t.bet,onChange:function(e){return c("change",e)}})),r.a.createElement("li",null,r.a.createElement("div",{onClick:function(){return c("+")}},"+"))),r.a.createElement("ul",{className:"difficulty"},r.a.createElement("li",{className:"easy".concat("easy"===t.difficulty?" active":""),onClick:function(){return n("easy")}},"easy"),r.a.createElement("li",{className:"medium".concat("medium"===t.difficulty?" active":""),onClick:function(){return n("medium")}},"medium"),r.a.createElement("li",{className:"hard".concat("hard"===t.difficulty?" active":""),onClick:function(){return n("hard")}},"hard")))},D=function(e){return r.a.createElement("div",{className:"game-info"},"EASY - 1 bomb / 3 cells",r.a.createElement("br",null),"MEDIUM - 1 bomb / 2 cells",r.a.createElement("br",null),"HARD - 2 bombs / 3 cells")},L=function(e){var t=e.value,a=e.click,n=e.id,c=e.playable,l=e.clicked,u=e.hasBomb,i="game-column-bet".concat(c?" playable":"").concat(l?u?" clicked-negative":" clicked-positive":"");return r.a.createElement("div",{className:i,onClick:function(){return a(n)}},t,"$")},R=function(e){return"Choose difficulty"},I=function(e){var t=e.color,a=e.purpose,n="";if("history"===a){var c=e.history,l=-3,u=[];c.forEach((function(e){l+=3;for(var t=0;t<3;t++)switch(t){case 0:u.push(r.a.createElement("div",{key:l},e.bet));break;case 1:u.push(r.a.createElement("div",{key:l+1},e.profit));break;case 2:u.push(r.a.createElement("div",{key:l+2},e.steps))}})),n=r.a.createElement("div",{className:"game-column game-history-column"},r.a.createElement(B,{color:t},r.a.createElement("div",null,"Bet"),r.a.createElement("div",null,"Profit"),r.a.createElement("div",null,"Steps"),u))}else if("game"===a){var i=e.game,o=e.handleGameButtonClick,m=e.handleChangeDifficulty,E=e.handleChangeBet,f=e.handleGameFieldClick,d=i.currentGame.cells.map((function(e){return r.a.createElement(L,{key:e.id,id:e.id,value:e.value,click:f,playable:e.playable,hasBomb:e.hasBomb,clicked:e.clicked})}));n=r.a.createElement("div",{className:"game-column game-game-column"},r.a.createElement(B,{color:t,columnsNumber:"".concat("medium"===i.difficulty?2:3),startScreenVisible:i.startScreenVisible},i.startScreenVisible?r.a.createElement(R,null):Object(s.a)(d)),r.a.createElement(S,{game:i,handleChangeBet:E,handleChangeDifficulty:m,handleGameButtonClick:o}))}else if("info"===a){var y=e.info;n=r.a.createElement("div",{className:"game-column game-info-column"},r.a.createElement(B,{color:t},r.a.createElement("div",null,r.a.createElement("div",null,"Money: ",y.money,"$")),r.a.createElement("div",null,r.a.createElement("div",null,"Games Played: ",y.gamesPlayed))),r.a.createElement(D,null))}return n},k=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.history})),a=Object(u.c)((function(e){return e.game})),c=Object(u.c)((function(e){return e.info})),l=function(){for(var t=a.difficulty,n=[],r=[],c=[],l="medium"===t?2:3,u=!0,i=1;i<10*l;){if(u){var o=Math.floor(Math.random()*l);r.push(i-1+o)}else i%l===0&&(u=!0);i+=l}c="easy"===t?[1.46,2.12,3.08,4.48,6.52,9.49,13.81,20.09,29.23,42.52]:"medium"===t?[1.94,3.76,7.3,14.16,27.48,53.31,103.42,200.64,389.24,755.12]:[2.91,8.47,24.64,71.71,208.67,607.24,1767.06,5142.14,14963.63,43544.16];for(var m=0;m<10*l;m++){var E=Math.floor(a.bet*c[Math.floor(m/l)]),s=r.includes(m);n.push({id:m+1,value:E,hasBomb:s,playable:!1,clicked:!1})}n.reverse(),e({type:"RESET_LEVEL"}),e(N(n)),e({type:"CHANGE_CELLS_WITH_BOMBS",payload:r})},i=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object(s.a)(a.currentGame.cells),c=r.map((function(e){return t&&(e.playable=!1),n&&(e.clicked=!1),e}));e(N(Object(s.a)(c)))},o=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=a.bet,c=null;c=1===a.currentGame.level?n.value:a.bet,t||(c*=-1);var l=a.currentGame.level;e(C({bet:r,profit:c,steps:l})),e(A(a.currentPrize)),e({type:"INCREMENT_GAMES_PLAYED"}),e({type:"STOP_GAME"}),e({type:"ENABLE_RESET"}),e(O(0)),e({type:"DISABLE_DIFFICULTY_CHANGE"}),e({type:"DISABLE_BET_CHANGE"}),i(!0,!1)},m=function(){for(var t=Object(s.a)(a.currentGame.cells),n=[],r="medium"===a.difficulty?2:3,c=a.currentGame.level,l=[],u=0;u<r;u++)l.push((c-1)*r+u+1);var i=t.map((function(e){var t=!1;return l.forEach((function(a){e.id===a&&(t=!0)})),t?(e.playable=!0,n.push(e)):e.playable=!1,e}));e(function(e){return{type:"CHANGE_ACTIVE_CELLS",payload:e}}(n)),e(N(Object(s.a)(i)))};return Object(n.useEffect)((function(){m()}),[a.play]),Object(n.useEffect)((function(){a.play||l()}),[a.bet]),Object(n.useEffect)((function(){l()}),[a.difficulty]),Object(n.useEffect)((function(){a.currentGame.level&&m()}),[a.currentGame.level]),Object(n.useEffect)((function(){a.currentGame.cells.length&&!a.reset&&(a.currentGame.cells.filter((function(e){return e.playable})).length||m());var e=a.currentGame.cells.filter((function(e){return e.playable}));a.reset&&e.length&&i(!0,!1)}),[a.currentGame.cells]),Object(n.useEffect)((function(){var t=a.currentGame.activeCells;if(t.length){var n=Object(s.a)(a.currentGame.cells).map((function(e){var a=!1;return t.forEach((function(t){e.id===t.id&&(a=!0)})),e.playable=!!a,e}));e(N(Object(s.a)(n)))}}),[a.currentGame.activeCells]),Object(n.useEffect)((function(){!function(){var t="";t=a.play||a.reset?a.play&&!a.reset?a.currentGame.level>1?"Take ".concat(a.currentPrize,"$"):"Click on active field":!a.play&&a.reset?"Reset":"Not defined":a.difficulty?"Click on active field":"Choose difficulty",e(function(e){return{type:"CHANGE_TEXT_ON_MAIN_BUTTON",payload:e}}(t))}()}),[a.play,a.reset,a.difficulty,a.currentGame.level]),r.a.createElement(_.a,{store:G},r.a.createElement(g,null,r.a.createElement(j,null),r.a.createElement(T,null,r.a.createElement(I,{purpose:"history",color:"red",history:t}),r.a.createElement(I,{purpose:"game",color:"blue",game:a,handleChangeBet:function(t,n){if(a.currentGame.canChangeBet)if("-"===t)e({type:"DECREASE_BET"});else if("+"===t)e({type:"INCREASE_BET"});else if("change"===t){var r=n.target.value;if(""===r&&(r=0),!/^[0-9]+$/.test(r))return console.log("not number");var c=r+"";c.length>1&&"0"===c[0]&&(r=parseInt(c.slice(0))),e({type:"CHANGE_BET",payload:r})}},handleChangeDifficulty:function(t){!a.currentGame.canChangeDifficulty||"easy"!==t&&"medium"!==t&&"hard"!==t||(e({type:"HIDE_START_SCREEN"}),e(function(e){return{type:"CHANGE_DIFFICULTY",payload:e}}(t)))},handleGameButtonClick:function(){a.reset?(e({type:"DISABLE_RESET"}),e({type:"ENABLE_BET_CHANGE"}),e({type:"ENABLE_DIFFICULTY_CHANGE"}),i(!0,!0),l()):a.currentGame.level>1&&(a.play?o():a.difficulty&&(a.reset?i(!1,!0):i(!0,!0),l(),a.reset||m(),e({type:"ENABLE_RESET"}),e({type:"START_GAME"}),e(O(0))))},handleGameFieldClick:function(t){var n=Object(s.a)(a.currentGame.cells).filter((function(e){return e.id===t}))[0];n.playable&&(n.clicked=!0,1===a.currentGame.level&&(e({type:"START_GAME"}),e({type:"DISABLE_DIFFICULTY_CHANGE"}),e({type:"ENABLE_BET_CHANGE"}),e({type:"REMOVE_MONEY",payload:a.bet})),n.hasBomb?o(!1,n):(e({type:"ADD_TO_CURRENT_PRIZE",payload:n.value}),e({type:"INCREASE_LEVEL"}),e({type:"DISABLE_DIFFICULTY_CHANGE"}),e({type:"ENABLE_BET_CHANGE"})))}}),r.a.createElement(I,{purpose:"info",color:"yellow",info:c}))))};var H=function(){return r.a.createElement(h,null,r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(u.a,{store:G},r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.36bf0034.chunk.js.map